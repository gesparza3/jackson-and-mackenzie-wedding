---
import { ExternalLink, Calendar } from "lucide-astro";

// Placeholder Google Form URL - replace with actual form URL
const googleFormUrl =
  "https://docs.google.com/forms/d/e/1FAIpQLSf-4X746arECUgTKZsbQ09MsmG7kJzLnLIzzslq3cTK0suHZg/viewform?embedded=true";
const googleFormDirectUrl =
  "https://docs.google.com/forms/d/e/1FAIpQLSf-4X746arECUgTKZsbQ09MsmG7kJzLnLIzzslq3cTK0suHZg/viewform";

// RSVP deadline (optional)
const rsvpDeadline = "April 25, 2026";
---

<div class="max-w-3xl mx-auto">
  <!-- RSVP Deadline -->
  <div class="text-center mb-8">
    <div
      class="inline-flex items-center gap-2 bg-[var(--color-sage-light)]/20 px-4 py-2 rounded-full"
    >
      <Calendar class="w-4 h-4 text-[var(--color-sage-dark)]" />
      <span class="text-sm text-[var(--color-charcoal)]">
        Please RSVP by <span class="font-medium">{rsvpDeadline}</span>
      </span>
    </div>
  </div>

  <!-- Google Form Embed -->
  <div
    class="bg-white rounded-2xl shadow-sm border border-[var(--color-sage-light)]/30 overflow-hidden"
  >
    <iframe
      src={googleFormUrl}
      width="100%"
      height="1750"
      frameborder="0"
      marginheight="0"
      marginwidth="0"
      title="RSVP Form"
      class="rsvp-iframe w-full"
      loading="lazy"
    >
      Loading RSVP form...
    </iframe>
  </div>

  <style>
    .rsvp-iframe {
      height: 1600px;
      max-height: 1600px;
    }
    @media (min-width: 768px) {
      .rsvp-iframe {
        height: 1700px;
        max-height: 1400px;
      }
    }
  </style>

  <!-- Fallback Link -->
  <div class="mt-6 text-center">
    <p class="text-[var(--color-gray)] mb-4">
      Having trouble viewing the form?
    </p>
    <a
      href={googleFormDirectUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center gap-2 bg-[var(--color-sage)] hover:bg-[var(--color-sage-dark)] text-white px-6 py-3 rounded-full transition-colors"
    >
      <ExternalLink class="w-4 h-4" />
      Open RSVP Form in New Tab
    </a>
  </div>
</div>
