---
import { Menu, X } from "lucide-astro";

const navLinks = [
  { href: "#our-story", label: "Our Story" },
  { href: "#details", label: "Details" },
  { href: "#venue", label: "Venue" },
  { href: "#rsvp", label: "RSVP" },
  { href: "#bridal-party", label: "Bridal Party" },
  { href: "#gallery", label: "Gallery" },
  { href: "#registry", label: "Registry" },
  { href: "#faq", label: "FAQ" },
  { href: "#contact", label: "Contact" },
];
---

<header
  class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-[var(--color-sage-light)]/30"
>
  <nav class="container mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo/Names -->
    <a
      href="#hero"
      class="font-heading text-xl md:text-2xl text-[var(--color-charcoal)] hover:text-[var(--color-sage-dark)] transition-colors"
    >
      J <span class="text-[var(--color-sage)]">&</span> M
    </a>

    <!-- Desktop Navigation -->
    <ul class="hidden lg:flex items-center gap-6">
      {
        navLinks.map((link) => (
          <li>
            <a
              href={link.href}
              class="text-sm text-[var(--color-gray)] hover:text-[var(--color-sage-dark)] transition-colors uppercase tracking-wider"
            >
              {link.label}
            </a>
          </li>
        ))
      }
    </ul>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-btn"
      class="lg:hidden p-2 text-[var(--color-charcoal)] hover:text-[var(--color-sage-dark)] transition-colors"
      aria-label="Toggle menu"
      aria-expanded="false"
    >
      <Menu class="h-6 w-6" id="menu-icon" />
      <X class="h-6 w-6 hidden" id="close-icon" />
    </button>
  </nav>

  <!-- Mobile Navigation -->
  <div
    id="mobile-menu"
    class="hidden lg:hidden bg-white border-t border-[var(--color-sage-light)]/30"
  >
    <ul class="container mx-auto px-4 py-4 flex flex-col gap-4">
      {
        navLinks.map((link) => (
          <li>
            <a
              href={link.href}
              class="mobile-nav-link block text-[var(--color-gray)] hover:text-[var(--color-sage-dark)] transition-colors uppercase tracking-wider py-2"
            >
              {link.label}
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</header>

<script>
  const menuBtn = document.getElementById("mobile-menu-btn");
  const mobileMenu = document.getElementById("mobile-menu");
  const menuIcon = document.getElementById("menu-icon");
  const closeIcon = document.getElementById("close-icon");
  const mobileNavLinks = document.querySelectorAll(".mobile-nav-link");

  function toggleMenu() {
    const isOpen = mobileMenu?.classList.toggle("hidden");
    menuIcon?.classList.toggle("hidden");
    closeIcon?.classList.toggle("hidden");
    menuBtn?.setAttribute("aria-expanded", (!isOpen).toString());
  }

  menuBtn?.addEventListener("click", toggleMenu);

  // Close menu when clicking a link
  mobileNavLinks.forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu?.classList.add("hidden");
      menuIcon?.classList.remove("hidden");
      closeIcon?.classList.add("hidden");
      menuBtn?.setAttribute("aria-expanded", "false");
    });
  });
</script>
