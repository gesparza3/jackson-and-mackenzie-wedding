---
import { ExternalLink, Gift, Plane, Home, Store } from "lucide-astro";
import { siTarget } from "simple-icons";

const registries = [
  {
    name: "Honeymoon Fund",
    description: "Help us make lasting memories on our honeymoon",
    url: "https://withjoy.com/",
    color: "bg-[#4b7563]",
    icon: "lucide",
    lucideIcon: Plane,
  },
  {
    name: "Crate & Barrel",
    description: "Quality furniture and kitchen items",
    url: "https://www.crateandbarrel.com/gift-registry/mackenzie-gill-and-jackson-esparza/r7469635",
    color: "bg-[#1a1a1a]",
    icon: "lucide",
    lucideIcon: Store,
  },
  {
    name: "Target",
    description: "Everyday essentials and home decor",
    url: "https://www.target.com/gift-registry/gift-giver?registryId=1943a290-efd9-11f0-8f87-7be4d1c2d1e9&type=WEDDING",
    color: "bg-[#CC0000]",
    icon: "simple-icons",
    simpleIcon: siTarget,
  },
  {
    name: "Household Fund",
    description: "Contribute toward home and newlywed life essentials",
    url: "https://withjoy.com/",
    color: "bg-[#6b7280]",
    icon: "lucide",
    lucideIcon: Home,
  },
];
---

<div class="max-w-3xl mx-auto">
  <!-- Intro -->
  <div class="text-center mb-10">
    <div
      class="w-16 h-16 bg-[var(--color-sage-light)]/30 rounded-full flex items-center justify-center mx-auto mb-4"
    >
      <Gift class="w-8 h-8 text-[var(--color-sage-dark)]" />
    </div>
    <p class="text-[var(--color-gray)] max-w-xl mx-auto whitespace-pre-line">
      Your presence at our wedding is the greatest gift of all.

However, if you wish to honor us with a gift, we've registered at the following stores.
    </p>
  </div>

  <!-- Registry Links -->
  <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
    {
      registries.map((registry, index) => {
        const isHoneymoonFund = index === 0;
        return (
        <a
          href={registry.url}
          target="_blank"
          rel="noopener noreferrer"
          class:list={[
            "group rounded-2xl p-6 shadow-sm hover:shadow-md transition-all text-center flex flex-col",
            isHoneymoonFund
              ? "bg-[var(--color-sage-light)]/5 border border-[var(--color-sage-dark)]/60"
              : "bg-white border border-[var(--color-sage-light)]/30",
          ]}
        >
          <div
            class={`w-12 h-12 ${registry.color} rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform motion-reduce:transform-none motion-reduce:transition-none shrink-0 [&_svg]:w-6 [&_svg]:h-6 [&_path]:fill-white`}
          >
            {registry.icon === "simple-icons" && registry.simpleIcon ? (
              <span
                class="flex items-center justify-center [&_svg]:w-6 [&_svg]:h-6"
                set:html={registry.simpleIcon.svg.replace(
                  /<path d="/,
                  '<path fill="white" d="'
                )}
              />
            ) : (
              registry.lucideIcon && (
                <registry.lucideIcon class="w-6 h-6 text-white" />
              )
            )}
          </div>
          <h3 class="text-lg font-heading text-[var(--color-charcoal)] mb-2 shrink-0">
            {registry.name}
          </h3>
          <p class="text-sm text-[var(--color-gray)] mb-4 flex-1 min-h-0">
            {registry.description}
          </p>
          <span class="inline-flex items-center justify-center gap-1 text-sm font-semibold text-[var(--color-sage-dark)] group-hover:underline shrink-0">
            View Registry <ExternalLink class="w-3 h-3" />
          </span>
        </a>
        );
      })
    }
  </div>
</div>
